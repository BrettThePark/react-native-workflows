{"version":3,"sources":["AuthUIInternalStore.tsx"],"names":["AuthUIInternalStore","props","injectedContext","defaultAccountUIReducer","initialAccountUIState","authState","authDispatch","authActions","registrationReducer","initialRegistrationState","registrationState","registrationDispatch","registrationActions","actions","dispatch","children"],"mappings":"6WAMA,qDACA,yDACA,8DAEA,kEACA,wEACA,+DACA,wEACA,6D,gIAEO,GAAMA,CAAAA,mBAA6B,CAAG,QAAhCA,CAAAA,mBAAgC,CAACC,KAAD,CAAW,CACpD,GAAMC,CAAAA,eAAe,CAAG,iDAAxB,CADoD,gBAIlB,sBAAWC,yCAAX,CAAoCC,4BAApC,CAJkB,yDAI7CC,SAJ6C,iBAIlCC,YAJkC,iBAKpD,GAAMC,CAAAA,WAAW,CAAG,mCAAsBL,eAAe,CAACK,WAAhB,EAAtB,CAAqDD,YAArD,GAApB,CALoD,iBAQF,sBAAWE,0CAAX,CAAgCC,gCAAhC,CARE,0DAQ7CC,iBAR6C,iBAQ1BC,oBAR0B,iBASpD,GAAMC,CAAAA,mBAAmB,CAAG,sDACxBV,eAAe,CAACU,mBAAhB,EADwB,CAExBD,oBAFwB,GAA5B,CAMA,qBAAU,UAAM,CAGf,CAHD,CAGG,CAACD,iBAAD,CAAoBL,SAApB,CAHH,EAKA,MACI,8BAAC,wCAAD,CAAwB,QAAxB,EAAiC,KAAK,CAAE,CAAEQ,OAAO,CAAEN,WAAX,CAAwBO,QAAQ,CAAER,YAAlC,CAAxC,gEACI,6BAAC,kCAAD,CAA2B,QAA3B,EACI,KAAK,CAAE,CAAEO,OAAO,CAAED,mBAAX,CAAgCE,QAAQ,CAAEH,oBAA1C,CADX,iEAGI,6BAAC,uCAAD,CAAuB,QAAvB,EAAgC,KAAK,CAAEN,SAAvC,iEACI,6BAAC,iCAAD,CAA0B,QAA1B,EAAmC,KAAK,CAAEK,iBAA1C,iEACKT,KAAK,CAACc,QADX,CADJ,CAHJ,CADJ,CADJ,CAaH,CAjCM,C","sourcesContent":["/**\n * @packageDocumentation\n * @module Stores\n * @internal\n */\n\nimport React, { useReducer, useEffect } from 'react';\nimport { initialAccountUIState } from '../contexts/AccountUIContext/state';\nimport { defaultAccountUIReducer, AccountUIActionContext, AccountUIStateContext } from '../contexts/AccountUIContext';\n\nimport { RegistrationStateContext, RegistrationActionContext } from '../contexts/RegistrationUIContext/context';\nimport { registrationReducer, RegistrationActionsCreator } from '../contexts/RegistrationUIContext';\nimport { initialRegistrationState } from '../contexts/RegistrationUIContext/state';\nimport { useInjectedUIContext } from '../contexts/AuthUIContextProvider';\nimport { AccountActionsCreator } from '../contexts/AccountUIContext/actions';\n\nexport const AuthUIInternalStore: React.FC = (props) => {\n    const injectedContext = useInjectedUIContext();\n\n    // Setup the Authentication Items\n    const [authState, authDispatch] = useReducer(defaultAccountUIReducer, initialAccountUIState);\n    const authActions = AccountActionsCreator(injectedContext.authActions(), authDispatch)();\n\n    // Setup the Registration Items\n    const [registrationState, registrationDispatch] = useReducer(registrationReducer, initialRegistrationState);\n    const registrationActions = RegistrationActionsCreator(\n        injectedContext.registrationActions(),\n        registrationDispatch\n    )();\n\n    // Middleware to dump state for debugging\n    useEffect(() => {\n        // console.log({ newAuthState: authState });\n        // console.log({ newRegistrationState: registrationState });\n    }, [registrationState, authState]);\n\n    return (\n        <AccountUIActionContext.Provider value={{ actions: authActions, dispatch: authDispatch }}>\n            <RegistrationActionContext.Provider\n                value={{ actions: registrationActions, dispatch: registrationDispatch }}\n            >\n                <AccountUIStateContext.Provider value={authState}>\n                    <RegistrationStateContext.Provider value={registrationState}>\n                        {props.children}\n                    </RegistrationStateContext.Provider>\n                </AccountUIStateContext.Provider>\n            </RegistrationActionContext.Provider>\n        </AccountUIActionContext.Provider>\n    );\n};\n"]}